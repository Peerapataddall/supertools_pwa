:root{
  --bs-font-sans-serif: "Prompt", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans Thai", "Noto Sans", sans-serif;
}
body{ font-feature-settings:"liga" 1,"kern" 1; }

/* ให้ navbar ลอยเหนือพื้นหลังในหน้า login */
.navbar-floating{ position: fixed; inset: 0 auto auto 0; width: 100%; z-index: 10; }
footer{ position: relative; z-index: 1; }

/* ===== LOGIN HERO (เต็มจอ ไม่มีขอบขาว) ===== */
.login-hero{
  position: relative;
  width: 100%;
  min-height: 100vh;
  overflow: hidden;
}

/* พื้นหลังรูป */
.login-hero::before{
  content:"";
  position:absolute; inset:0;
  background: url("/static/images/login-bg.jpg") center/cover no-repeat fixed;
  transform: scale(1.06);               /* ken-burns เบาๆ */
  animation: kenburns 18s ease-in-out infinite alternate;
}

/* ชั้นทึบเพื่อให้ตัวหนังสืออ่านง่าย */
.login-overlay{
  position:absolute; inset:0;
  background: rgba(0,0,0,.35);
  backdrop-filter: saturate(120%) contrast(105%);
}

/* ไล่เฉดเคลื่อนไหวบางๆ */
.login-gradient{
  position:absolute; inset:-30% -20% -30% -20%;
  background: radial-gradient(40% 40% at 20% 20%, rgba(13,110,253,.35), transparent 60%),
              radial-gradient(35% 35% at 85% 30%, rgba(25,135,84,.30), transparent 60%),
              radial-gradient(35% 35% at 50% 80%, rgba(255,193,7,.25), transparent 60%);
  filter: blur(30px);
  animation: floaty 22s linear infinite;
}

/* ศูนย์กลางการ์ด */
.login-center{
  position: relative; z-index: 1;
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 96px 16px 32px; /* เผื่อพื้นที่ให้ navbar fixed */
}

/* glass card */
.login-glass{
  width: 100%;
  max-width: 460px;
  border-radius: 20px;
  background: rgba(255,255,255,.18);
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  backdrop-filter: blur(10px) saturate(135%);
}

@keyframes kenburns{
  from{ transform: scale(1.06) translate3d(0,0,0); }
  to  { transform: scale(1.12) translate3d(0,-8px,0); }
}
@keyframes floaty{
  0%  { transform: rotate(0deg) translateY(0); }
  50% { transform: rotate(1deg) translateY(-6px); }
  100%{ transform: rotate(0deg) translateY(0); }
}

/* ===== Brand Topbar (โลโก้+ผู้ใช้ ให้เข้ากับธีมใหม่) ===== */
.brandbar{
  --bar-h: 64px;
  background:
    radial-gradient(900px 280px at 0% 0%, rgba(255,255,255,.96) 0%, rgba(255,255,255,.80) 40%, rgba(148,163,184,.35) 100%);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 18px 45px rgba(15,23,42,.18);
  border-bottom: 1px solid rgba(148,163,184,.35);
}
@media (max-width: 576px){
  .brandbar{ --bar-h: 54px; }
}
.brandbar.navbar{ min-height: var(--bar-h); }
.brandbar .navbar-brand{
  height: var(--bar-h);
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
}

/* โลโก้บนบาร์ */
.brand-logo{
  width: 48px;
  height: 48px;
  margin-right: 10px;
  border-radius: 16px;
  object-fit: cover;
  box-shadow: 0 6px 18px rgba(15,23,42,.25);
}

/* สีข้อความแบรนด์บนพื้นสว่าง */
.brandbar .brand-text,
.brandbar .navbar-brand,
.brandbar .navbar-brand:hover,
.brandbar .navbar-brand:focus{
  color: #123658;
}

/* ===== User pill & Avatar (ให้ match กับ topbar ใหม่) ===== */
.user-pill{
  background: rgba(15,23,42,.04);
  border: 1px solid rgba(148,163,184,.45);
  border-radius: 999px;
  box-shadow: 0 10px 30px rgba(15,23,42,.10);
}
.avatar{
  display: inline-grid;
  place-items: center;
  border-radius: 50%;
  background: #fff;
  color: #111827;
  font-weight: 600;
  line-height: 1;
  user-select: none;
  overflow: hidden;
  box-shadow: 0 4px 14px rgba(15,23,42,.18);
}
.avatar-sm{ width: 28px; height: 28px; font-size: 12px; }
.avatar-md{ width: 40px; height: 40px; font-size: 16px; }
.avatar-initials{ transform: translateY(1px); } /* จัด baseline เล็กน้อย */

/* ===== Supertools modern UI add-ons ===== */
:root{
  --st-accent: #5865f2;            /* accent หลัก */
  --st-accent-2: #22c55e;          /* เขียว confirm */
  --st-bg-soft: color-mix(in oklab, var(--bs-body-bg), #0000 75%);
  --st-ring: 0 0 0 .2rem color-mix(in oklab, var(--st-accent), #0000 70%);
}

[data-bs-theme="dark"]{
  --st-bg-soft: color-mix(in oklab, var(--bs-body-bg), #fff2 85%);
}

/* card กลมมน + เงาเบา */
.st-card{
  background: var(--bs-body-bg);
  border: 1px solid var(--bs-border-color);
  border-radius: 1rem;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}

/* toolbar บนฟอร์ม */
.st-toolbar{
  display:flex; gap:.75rem; align-items:center; justify-content:space-between;
  padding: .9rem 1rem; border-bottom:1px solid var(--bs-border-color);
  border-top-left-radius:1rem; border-top-right-radius:1rem;
  background:
    linear-gradient(180deg, color-mix(in oklab, var(--st-accent), #0000 85%), transparent);
}

/* ปุ่มหลักสวยขึ้น */
.btn-primary{
  background: linear-gradient(180deg, var(--st-accent), color-mix(in oklab, var(--st-accent), #000 12%));
  border: none;
}
.btn-primary:focus{ box-shadow: var(--st-ring); }
.btn-outline-primary{
  border-radius: .8rem;
}

/* segmented control (radio) */
.seg{
  display:inline-flex; gap:.4rem; padding:.25rem; border-radius:999px;
  background: var(--st-bg-soft); border:1px solid var(--bs-border-color);
}
.seg .form-check{
  margin:0; position:relative;
}
.seg input[type=radio]{ display:none; }
.seg label{
  display:inline-block; padding:.4rem .9rem; border-radius:999px;
  cursor:pointer; font-weight:500; transition:all .2s ease;
}
.seg input[type=radio]:checked + label{
  background: var(--bs-body-color);
  color: var(--bs-body-bg);
  background: linear-gradient(180deg, var(--st-accent), color-mix(in oklab, var(--st-accent), #000 10%));
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
}

/* inputs โค้ง ๆ */
.form-control, .form-select{ border-radius:.8rem; }
.table > :not(caption) > * > *{ padding:.9rem .75rem; }

/* ตารางหัวแถว */
.table.st-fancy thead th{
  background: var(--st-bg-soft);
  border-bottom:1px solid var(--bs-border-color);
  position:sticky; top:0; z-index:1;
}

/* ปุ่มเล็กๆ ในตาราง */
.btn-ghost{
  border:1px solid var(--bs-border-color);
  background: transparent; border-radius:.7rem;
}
.btn-ghost:hover{ background: var(--st-bg-soft); }

/* สรุปรวมด้านขวา */
.st-summary{
  position: sticky; top: 84px;
  border-radius: 1rem; padding:1rem; gap:.35rem;
}
.st-summary .row{ --bs-gutter-x: .5rem; }
.st-kpi{
  display:flex; justify-content:space-between; align-items:center;
  padding:.55rem .75rem; border-radius:.7rem;
}
.st-kpi + .st-kpi{ margin-top:.35rem; }
.st-kpi .v{ font-variant-numeric: tabular-nums; font-weight:600; }

/* แถบเพิ่มแถว */
#addRow{ border-radius: .8rem; }

/* เลขให้ชิดขวาสวย ๆ */
.text-mono{ font-variant-numeric: tabular-nums; }

/* hover แถว */
#itemsTable tbody tr:hover{ background: color-mix(in oklab, var(--st-accent), #0000 92%); }

/* ----- PO List polish ----- */
.st-card { background: var(--bs-body-bg); border: 1px solid rgba(0,0,0,.06); }
.st-table tbody tr { transition: background-color .18s ease, transform .08s ease; }
.st-table tbody tr:hover { background-color: rgba(13,110,253,.06); }
.st-input-w { min-width: 220px; }
.badge.bg-secondary, .badge.bg-success, .badge.bg-primary {
  padding: .45rem .65rem; font-weight: 600;
}

/* ===== Supertools · Neo-Light Theme (PO List) ===== */

/* --- สีหลัก & ไล่สี --- */
:root{
  --st-brand-1: #5b8cff;   /* blue */
  --st-brand-2: #7b5cff;   /* violet */
  --st-mint:    #27c3a1;
  --st-amber:   #ffb84a;
  --st-rose:    #ff6b7a;

  --st-grad-hero: linear-gradient(135deg,var(--st-brand-1),var(--st-brand-2));
  --st-grad-chip: linear-gradient(135deg,#8fd3ff,#e0d1ff);
  --st-grad-soft: radial-gradient(1200px 600px at 20% -10%, #eef5ff 0, transparent 60%),
                  radial-gradient(1000px 500px at 120% 0%, #f3ecff 0, transparent 55%);
}

/* --- พื้นหลังหน้าจอให้สว่าง + มีเลเยอร์เบา ๆ --- */
body{
  background:
    var(--st-grad-soft),
    linear-gradient(#fff,#fff);
}

/* --- Card สมัยใหม่: มุมมน/เงานุ่ม/ขอบกลืนไล่สี --- */
.st-card{
  border-radius: 18px;
  background: #fff;
  box-shadow:
    0 10px 24px rgba(22,34,75,.06),
    0 3px 8px rgba(22,34,75,.04);
  position: relative;
  border: 1px solid rgba(20,28,58,.06);
}

/* เส้นหัวการ์ดแบบไล่สี */
.st-card .st-gradient-bar{
  height: 8px;
  border-radius: 18px 18px 0 0;
  background: var(--st-grad-hero);
}

/* Header area มีกลาสเอฟเฟกต์นิด ๆ */
.st-header-glass{
  background: rgba(255,255,255,.72);
  -webkit-backdrop-filter: saturate(160%) blur(6px);
  backdrop-filter: saturate(160%) blur(6px);
  border-radius: 14px;
  border: 1px solid rgba(99,112,180,.12);
  padding: .65rem .75rem;
}

/* --- ปุ่มไล่สีสวย ๆ --- */
.btn-gradient{
  background: var(--st-grad-hero);
  color: #fff;
  border: 0;
  box-shadow: 0 6px 14px rgba(91,140,255,.28);
}
.btn-gradient:hover{ filter: brightness(.98); color:#fff; }
.btn-soft{
  background: #f3f6ff;
  color: #2a3a6f;
  border: 1px solid rgba(42,58,111,.12);
}
.btn-soft:hover{ background:#e9efff; }

/* --- ชิปนับจำนวนแบบไล่สีอ่อน --- */
.st-chip{
  background: var(--st-grad-chip);
  color: #3a2f66;
  border: 1px solid rgba(76,63,140,.18);
  font-weight: 600;
  padding: .28rem .6rem;
  border-radius: 999px;
}

/* --- input โฟกัสมีแสงนุ่ม --- */
.st-input-w .form-control:focus,
.st-input-w .form-select:focus{
  box-shadow: 0 0 0 .25rem rgba(123,92,255,.15);
  border-color: #a48dff;
}

/* --- ตารางแบบ airy + hover มิติ --- */
.st-table thead th{
  background: linear-gradient(#fafbff,#f7f9ff);
  border-bottom: 1px solid rgba(31,46,120,.08)!important;
}
.st-table tbody tr{
  transition: transform .08s ease, background-color .18s ease, box-shadow .18s ease;
}
.st-table tbody tr:hover{
  background: #f5f8ff;
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(29,49,122,.06);
}

/* --- ป้ายสถานะสมัยใหม่ --- */
.badge.rounded-pill.bg-secondary{ background:#e9edf6!important; color:#47506a; }
.badge.rounded-pill.bg-success{ background:#e6fbf5!important; color:#0f8e6c; }
.badge.rounded-pill.bg-primary { background:#e9efff!important; color:#2d4dd6; }

/* ระยะ/เลย์เอาต์ */
.st-input-w{ min-width: 260px; }

/* ===== Action icon buttons (neumorphic + soft gradient) ===== */
.st-actions{ display:flex; gap:.55rem; align-items:center; justify-content:flex-end; }

.st-iconbtn{
  --sz: 40px;
  width: var(--sz); height: var(--sz);
  display:inline-flex; align-items:center; justify-content:center;
  border-radius: 14px;
  border: 1.5px solid var(--bs-border-color);
  background: linear-gradient(180deg, #ffffff 0%, #f6f7fb 100%);
  box-shadow:
    0 1px 1px rgba(16,24,40,.04),
    0 3px 12px rgba(16,24,40,.06),
    inset 0 1px 0 rgba(255,255,255,.7);
  color: var(--bs-body-color);
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.st-iconbtn i{ font-size: 1.05rem; line-height: 1; }

/* states */
.st-iconbtn:focus-visible{ outline: 3px solid rgba(99,102,241,.35); outline-offset: 2px; }
.st-iconbtn:hover{ transform: translateY(-1px); }

/* view = เทาอมน้ำเงิน */
.st-iconbtn.st-view{
  color:#344767; border-color:#c7cfde;
}
.st-iconbtn.st-view:hover{
  background: linear-gradient(135deg, #eef3ff 0%, #ffffff 100%);
  box-shadow: 0 6px 18px rgba(52,71,103,.18);
}

/* approve = เขียวพาสเทล + ring */
.st-iconbtn.st-approve{
  color:#167a45; border-color:#b9e5c9;
  background: linear-gradient(180deg, #f2fff7 0%, #ebfff3 100%);
}
.st-iconbtn.st-approve:hover{
  border-color:#79d3a1;
  box-shadow: 0 6px 20px rgba(22,122,69,.22), inset 0 0 0 999px rgba(121,211,161,.06);
}

/* order = น้ำเงินสดใส */
.st-iconbtn.st-order{
  color:#2563eb; border-color:#b9d3ff;
  background: linear-gradient(180deg, #f4f8ff 0%, #eef4ff 100%);
}
.st-iconbtn.st-order:hover{
  border-color:#86b1ff;
  box-shadow: 0 6px 20px rgba(37,99,235,.22), inset 0 0 0 999px rgba(134,177,255,.06);
}

/* ขนาดกะทัดรัดกรณีตารางแน่น */
.table .st-iconbtn{ --sz: 38px; border-radius: 12px; }

/* ---------- PO View Modern ---------- */
.st-hero{
  background: linear-gradient(135deg,#7c8cfb 0%, #7bdbff 45%, #9ef1d6 100%);
  box-shadow: inset 0 -60px 80px rgba(255,255,255,.15);
}
.st-hero-icon{
  width: 44px; height: 44px;
  display:grid; place-items:center;
  border-radius: 14px;
  background: rgba(255,255,255,.25);
  color:#fff; font-size: 1.25rem;
  backdrop-filter: blur(4px);
}
.btn-hero{
  border-radius: 12px;
  padding: .45rem .9rem;
  backdrop-filter: blur(6px);
  border-width: 1.5px;
}
.st-total-card{
  background: radial-gradient(1200px 300px at top left, rgba(124,140,251,.18), transparent 60%),
              linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.9));
  border: 1px solid rgba(124,140,251,.18);
  box-shadow: 0 8px 28px rgba(124,140,251,.15);
}
.st-chip-status{
  letter-spacing:.2px;
}
.st-meta > div{
  padding: .25rem 0;
  display:flex; align-items:center;
}

/* ===== PRINT: A4 generic ===== */
@page { size: A4; margin: 12mm; }
.print-hide{ display:none !important; }
@media print{
  .no-print, .btn, .navbar, .st-topbar{ display:none !important; }
  body{ -webkit-print-color-adjust:exact; print-color-adjust:exact; }
}

/* ===== Company Settings · Light / Pastel theme ===== */
:root{
  --st-primary-600:#3b5ccc;   /* น้ำเงินพาสเทลเข้ม */
  --st-primary-500:#4f8cff;   /* ปุ่ม/ไฮไลต์ */
  --st-primary-100:#e9f2ff;   /* พื้นไลท์ */
  --st-ink:#243a5a;           /* ตัวอักษรหลัก */
  --st-muted:#6c7a91;
  --st-ring:#cfe1ff;
}

.st-wrap { max-width: 1100px; margin-inline: auto; }

/* Hero แถบบนสุดให้สว่าง */
.st-hero{
  background: linear-gradient(135deg, #f9fbff 0%, #eef5ff 45%, #e9f2ff 100%);
  border-radius: 1rem;
  border: 1px solid var(--st-ring);
  box-shadow: 0 6px 18px rgba(64,112,244,.08);
}
.st-hero .card-body{ color: var(--st-ink); }
.st-hero-icon{
  width: 48px; height: 48px; border-radius: 14px;
  display: grid; place-items: center;
  background: #ffffff; color: var(--st-primary-600);
  box-shadow: 0 2px 10px rgba(59,92,204,.15), inset 0 0 0 1px var(--st-ring);
}
.st-chip{
  background:#fff; color: var(--st-primary-600);
  border: 1px dashed var(--st-ring);
}

/* การ์ด/บอร์เดอร์ให้ขาวและขอบอ่อน */
.st-form.card{ background:#ffffff; border:1px solid #e9eef9; border-radius: 1rem; }
.st-section-title{ font-weight:600; color: var(--st-ink); margin-bottom:.5rem; }

/* กล่องโลโก้ */
.st-logo-card { background: #fbfdff; border-color: var(--st-ring) !important; }
.st-logo-box  { width: 92px; height: 92px; background:#fff; border:1px solid #e7eefc; }

/* input-group ให้หวานละมุนขึ้น */
.input-group-text{
  background:#f2f6ff; color: var(--st-primary-600);
  border-color:#e5ecfb;
}
.form-control, textarea, select{
  border-color:#e5ecfb;
}
.form-control:focus, .form-select:focus{
  border-color: var(--st-primary-500);
  box-shadow: 0 0 0 .20rem rgba(79,140,255,.18);
}

/* ปุ่มหลัก */
.btn-primary{
  --bs-btn-bg: var(--st-primary-500);
  --bs-btn-border-color: var(--st-primary-500);
  --bs-btn-hover-bg: #3e7cf2;
  --bs-btn-hover-border-color: #3e7cf2;
  --bs-btn-focus-shadow-rgb: 79,140,255;
}
.btn-outline-secondary{
  --bs-btn-hover-bg:#f5f8ff;
  --bs-btn-hover-border-color:#d7e4ff;
  --bs-btn-color:#4a5568;
  --bs-btn-border-color:#e2e8f0;
}

/* พื้นหลังหน้า */
body[data-bs-theme="light"] .page-bg,
body .page-bg{ background:#f7faff; }

/* ===== Fix: readable text on light hero ===== */
:root{
  --st-ink:#1b2b44;     /* สีตัวอักษรหลักให้เข้มขึ้น */
  --st-muted:#4f637d;   /* สีตัวอักษรรอง */
}

/* ให้ข้อความในกล่อง hero เป็นสีเข้มทั้งหมด */
.st-hero,
.st-hero .card-body{
  color: var(--st-ink);
}

/* ถ้าใน markup เดิมยังมีคลาส text-white / text-white-50 ให้บังคับเป็นสีเข้ม */
.st-hero .card-body .text-white,
.st-hero .card-body .text-white-50{
  color: var(--st-ink) !important;
  opacity: 1 !important;
}

/* คำอธิบาย/ไอคอนให้ตัดกับพื้นหลังมากขึ้น */
.st-hero .muted,
.st-hero .text-muted{ color: var(--st-muted) !important; }

/* ป้ายสิทธิ์ (chip) ให้ตัวอักษรเข้มชัด */
.st-chip{
  color:#0b3b77;
  background:#ffffff;
  border:1px dashed var(--st-ring);
}

/* เงา/ขอบยังคงโทนอ่อน */
.st-hero{
  background: linear-gradient(135deg,#f9fbff 0%,#eef5ff 45%,#e9f2ff 100%);
  border:1px solid var(--st-ring);
  box-shadow: 0 6px 18px rgba(64,112,244,.08);
}

/* === Readable text on light hero blocks (PO/GRN/Company, etc.) === */
:root{
  --st-ink: #1b2b44;   /* ตัวอักษรหลัก */
  --st-muted: #536b8a; /* ตัวอักษรรอง */
}

/* จับทุก hero/card ส่วนหัวที่เป็นพื้นสว่าง */
.st-hero, .po-hero, .doc-hero, .hero, .po-head {
  color: var(--st-ink);
}

/* รีเซ็ตยูทิลิตี้ที่ทำให้ตัวอักษรขาวเกินไปเฉพาะใน hero (ไม่กระทบปุ่ม/แบดจ์) */
.st-hero :where(h1,h2,h3,h4,p,span,small,div,a,li,strong,em),
.po-hero  :where(h1,h2,h3,h4,p,span,small,div,a,li,strong,em),
.doc-hero :where(h1,h2,h3,h4,p,span,small,div,a,li,strong,em),
.hero     :where(h1,h2,h3,h4,p,span,small,div,a,li,strong,em) {
  color: var(--st-ink);
}

.st-hero .text-white,
.st-hero .text-white-50,
.po-hero  .text-white,
.po-hero  .text-white-50,
.doc-hero .text-white,
.doc-hero .text-white-50,
.hero     .text-white,
.hero     .text-white-50 {
  color: var(--st-ink) !important;
  opacity: 1 !important;
}

/* เมทาข้อความ/วันที่ ให้เป็นสีรองอ่านง่าย */
.st-hero .text-muted, .st-hero .text-secondary,
.po-hero  .text-muted, .po-hero  .text-secondary,
.doc-hero .text-muted, .doc-hero .text-secondary,
.hero     .text-muted, .hero     .text-secondary {
  color: var(--st-muted) !important;
}

/* อย่าทับสีในปุ่ม/แบดจ์ */
.st-hero .btn, .po-hero .btn, .doc-hero .btn, .hero .btn,
.st-hero .badge, .po-hero .badge, .doc-hero .badge, .hero .badge {
  color: inherit; /* ตามสีของปุ่ม/แบดจ์เดิม */
}

/* ===== Compact metric cards ===== */
.box-compact{
  --pad: 14px;               /* เดิม ~24px */
  --gap: 12px;               /* เดิม ~20px */
  --radius: 14px;
  --shadow: 0 8px 24px rgba(18,18,23,.06);
  background:#fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: var(--pad) calc(var(--pad) + 4px);
}

.box-compact .box-head{
  display:flex; align-items:center; gap:10px;
  font-weight:600; color:var(--bs-gray-700);
  border-bottom:1px solid rgba(0,0,0,.06);
  padding-bottom:10px; margin-bottom: var(--gap);
}

.kpi-grid{
  display:grid; gap: var(--gap);
  grid-template-columns: repeat(3, minmax(140px, 1fr));
}
@media (max-width: 992px){ .kpi-grid{ grid-template-columns: repeat(3, minmax(120px,1fr)); } }
@media (max-width: 768px){ .kpi-grid{ grid-template-columns: repeat(2, minmax(140px,1fr)); } }
@media (max-width: 540px){ .kpi-grid{ grid-template-columns: 1fr 1fr; } }

.kpi{
  display:flex; flex-direction:column; gap:4px;
  padding:10px 6px;
}
.kpi .val{
  font-weight:700;
  /* ย่อแบบ responsive: 20–28px ตามความกว้าง */
  font-size: clamp(20px, 2.4vw, 28px);
  letter-spacing:.2px;
}
.kpi .unit{
  font-size: 13px; color: var(--bs-secondary-color);
}

/* เส้นคั่นบางลง + ช่องว่างน้อยลง */
.box-compact .hr{
  height:1px; background:rgba(0,0,0,.06);
  margin: 10px 0;
}

/* ป้ายหัวข้อเล็กลง */
.section-title{
  font-size: 15px; font-weight:600; color:var(--bs-gray-600);
  display:flex; align-items:center; gap:8px;
}
.section-title i{ opacity:.7; }

/* ===== Supertools QU polish ===== */
:root{
  --st-radius: 16px;
  --st-shadow: 0 10px 24px rgba(28,39,83,.08), 0 2px 4px rgba(28,39,83,.06);
}

.card{ border-radius: var(--st-radius); }
.card.shadow-sm{ box-shadow: var(--st-shadow)!important; }
.table thead th{ font-weight:600; letter-spacing:.2px; }
.form-control, .form-select{ border-radius:12px; }
.btn{ border-radius:12px; }

.typeahead{
  max-height: 280px; overflow:auto; border-radius:12px;
}
.typeahead .dropdown-item{ padding:.5rem .75rem; }
.typeahead .dropdown-item .small.fw-semibold{ line-height:1.2; }

#itemsTable td{ padding: .65rem .5rem; }
#itemsTable input[type=number]::-webkit-outer-spin-button,
#itemsTable input[type=number]::-webkit-inner-spin-button{ opacity:1; }

/* ===== Soft Cards: ขาว → ฟ้าอ่อน + เงานุ่ม ===== */
.st-softcard{
  background: linear-gradient(160deg, #ffffff 0%, #f6fbff 55%, #eef6ff 100%);
  border: 1px solid rgba(0, 80, 180, 0.06);
  box-shadow:
    0 1px 2px rgba(16,24,40,.06),
    0 6px 24px rgba(72, 125, 255, .08);
  border-radius: 16px;
}

.st-softcard .card-header{
  background: transparent;
  border-bottom: 1px solid rgba(0,0,0,.05);
  font-weight: 600;
}

.st-softcard--accent{
  background: linear-gradient(160deg, #ffffff 0%, #f2f8ff 45%, #e7f1ff 100%);
  border-color: rgba(40, 120, 255, 0.15);
  box-shadow:
    0 2px 10px rgba(40,120,255,.08),
    0 12px 30px rgba(40,120,255,.10);
}

/* ปุ่ม/อินพุตเนียนตา */
.form-control, .form-select{
  border-radius: 12px;
  border-color: rgba(0,0,0,.12);
  transition: box-shadow .15s ease, border-color .15s ease;
}
.form-control:focus, .form-select:focus{
  border-color: rgba(30, 100, 255, .45);
  box-shadow: 0 0 0 0.2rem rgba(80, 140, 255, .15);
}

/* ป้ายหัวข้อ/ไอคอนเล็กๆ ให้ดูมีมิติ */
.badge, .btn{
  border-radius: 999px;
}

/* กล่องสรุปตัวเลขภายในสรุปยอด */
.st-totals .row-line{
  display:flex; justify-content:space-between; align-items:center;
  padding:.25rem 0; font-size: .95rem;
}
.st-totals .row-line--em{ font-weight:600; }
.st-totals .row-line--grand{
  font-size: 1.15rem; font-weight: 700;
}

/* =======================================
   Layout: Sidebar ซ้าย + Main Content
   (เวอร์ชันเก่า – ตอนนี้ base.html มี layout ใหม่ครอบทับอยู่
    แต่ยังเก็บไว้เพื่อกันหน้าเก่าที่อาจใช้)
   ======================================= */

.st-shell{
  display:flex;
  align-items:flex-start;
  gap:1.5rem;
  padding: 1rem 1.25rem 2rem;
}

.st-main-area{
  flex:1;
  min-width:0;
}

/* ให้ container ข้างในมีระยะจากด้านบนเล็กน้อย */
.st-main-area > .container,
.st-main-area > .p-0{
  padding-top: 0.5rem;
}

/* Sidebar */
.st-sidebar{
  width: 240px;
  flex-shrink:0;
  border-radius: 18px;
  padding: 1rem .8rem 1.25rem;
  background:
    radial-gradient(140% 140% at 0% 0%, #111827 0, #020617 55%),
    linear-gradient(180deg, #020617, #020617);
  box-shadow:
    0 18px 40px rgba(15,23,42,.55),
    0 0 0 1px rgba(148,163,184,.18);
  color:#e5e7eb;
  position: sticky;
  top: 76px;
  max-height: calc(100vh - 86px);
  overflow-y: auto;
}

.st-sidebar-header{
  padding-bottom:.75rem;
  margin-bottom:.75rem;
  border-bottom:1px solid rgba(148,163,184,.35);
}

.st-sidebar-logo{
  width:36px;
  height:36px;
  border-radius:12px;
  object-fit:cover;
  box-shadow:0 6px 14px rgba(15,23,42,.7);
}

.st-side-nav{
  font-size:.9rem;
}

.st-side-nav-section + .st-side-nav-section{
  margin-top:.35rem;
}

.st-side-nav-label{
  text-transform:uppercase;
  font-size:.68rem;
  letter-spacing:.12em;
  color:rgba(148,163,184,.85);
  padding:.35rem .6rem;
}

/* ลิสต์ใน sidebar */
.st-side-nav ul{
  list-style:none;
  padding-left:0;
  margin:0;
}

.st-side-link{
  display:flex;
  align-items:center;
  gap:.65rem;
  padding:.42rem .7rem;
  margin-bottom:.15rem;
  border-radius:999px;
  color:#cbd5f5;
  text-decoration:none;
  position:relative;
  transition:
    background-color .16s ease,
    color .16s ease,
    transform .12s ease,
    box-shadow .16s ease;
}

.st-side-link i{
  font-size:1.05rem;
}

.st-side-link:hover{
  background:rgba(148,163,184,.16);
  color:#ffffff;
  transform: translateX(1px);
}

.st-side-link.is-active{
  background: linear-gradient(135deg, #4f46e5, #22c55e);
  color:#f9fafb;
  box-shadow:0 10px 22px rgba(15,23,42,.45);
}

.st-side-link.is-active i{
  color:inherit;
}

/* badge เล็กทางขวา (ถ้าอนาคตอยากใช้) */
.st-side-badge{
  margin-left:auto;
  font-size:.7rem;
  padding:.1rem .35rem;
  border-radius:999px;
  background:rgba(15,23,42,.7);
  color:#e5e7eb;
}

/* จอเล็ก: ซ่อน sidebar ใช้ offcanvas แทน */
@media (max-width: 767.98px){
  .st-shell{
    padding: 1rem .75rem 2rem;
  }
  .st-sidebar{
    display:none;
  }
}

/* จอใหญ่หน่อยให้ content ไม่กว้างเกินไป */
@media (min-width: 1400px){
  .st-main-area > .container{
    max-width: 1320px;
  }
}

/* ===== Layout: Sidebar + Main (เวอร์ชันย่อ) ===== */
.st-shell{
  display:flex;
  min-height: calc(100vh - 64px);
}

/* desktop sidebar */
.st-sidebar{
  width: 250px;
  padding: 16px 14px;
  background: radial-gradient(circle at 0 0, #111827 0, #020617 65%);
  color:#e5e7eb;
  border-right:1px solid rgba(148,163,184,.25);
}
.st-sidebar-header{ margin-bottom: 10px; }
.st-sidebar-logo{
  width:36px; height:36px;
  border-radius:12px;
  object-fit:cover;
}

.st-main-area{
  flex:1;
  min-width:0;
}

/* side nav links */
.st-side-nav{ font-size: .9rem; }
.st-side-nav-section + .st-side-nav-section{ margin-top: .75rem; }
.st-side-nav-label{
  font-size:.7rem;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:#9ca3af;
  margin-bottom:.25rem;
  padding-inline: .35rem;
}

.st-side-link{
  display:flex;
  align-items:center;
  gap:.6rem;
  padding:.4rem .55rem;
  border-radius: .75rem;
  color:#e5e7eb;
  text-decoration:none;
  position:relative;
}
.st-side-link i{
  font-size:1rem;
  opacity:.9;
}
.st-side-link:hover{
  background:rgba(148,163,184,.12);
  color:#fff;
}
.st-side-link.is-active{
  background: linear-gradient(135deg,#4f46e5,#22c55e);
  color:#fff;
  box-shadow:0 10px 20px rgba(15,23,42,.45);
}
.st-side-link.is-active i{
  opacity:1;
}

/* ใช้สไตล์เดียวกันใน offcanvas มือถือ */
.offcanvas.text-bg-dark .st-side-link{
  color:#e5e7eb;
}
.offcanvas.text-bg-dark .st-side-link:hover{
  background:rgba(148,163,184,.18);
}
.offcanvas.text-bg-dark .st-side-nav-label{
  color:#9ca3af;
}
